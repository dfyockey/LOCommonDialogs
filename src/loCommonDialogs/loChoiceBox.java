package loCommonDialogs;

import java.io.UnsupportedEncodingException;
import java.net.MalformedURLException;
import java.net.URL;

import javax.xml.bind.DatatypeConverter;

import com.sun.star.awt.FontDescriptor;
import com.sun.star.awt.FontPitch;
import com.sun.star.awt.FontWeight;
import com.sun.star.awt.PushButtonType;
import com.sun.star.awt.Size;
import com.sun.star.awt.XActionListener;
import com.sun.star.awt.XButton;
import com.sun.star.awt.XControl;
import com.sun.star.awt.XControlModel;
import com.sun.star.awt.XDialog;
import com.sun.star.awt.XFixedText;
import com.sun.star.awt.XLayoutConstrains;
import com.sun.star.awt.XStyleSettings;
import com.sun.star.awt.XStyleSettingsSupplier;
import com.sun.star.beans.XMultiPropertySet;
import com.sun.star.beans.XPropertySet;
import com.sun.star.frame.XModel;
import com.sun.star.uno.UnoRuntime;
import com.sun.star.uno.XComponentContext;

public class loChoiceBox extends loDialogBox implements AutoCloseable {

	short btnclicked = 0;
	
	// Dialog and Control Size & Position Values
	private int labelvertpos;
	private int btnvertpos;
	private int Btn2horizpos;
	private int Btn1horizpos;
	private int Cancelhorizpos;
	
	// Control Instance Storage
	private XFixedText	guiLabel;
	private XButton		guiChoiceBtn2;
	private XButton		guiChoiceBtn1;
	private XControl	guiImage;
	@SuppressWarnings("unused")
	private XButton		guiCancelBtn;
	
	public loChoiceBox(XComponentContext xComponentContext, int w, int h) {
		// w = dialog width, h = dialog height, 0 for either = minimum value
		super(xComponentContext);
		iconsize		= 32;
		dialogwidth		= ((w == 0) ? mindialogwidth : w); // + iconsize;
		dialogheight	= (h == 0) ? mindialogheight : h;
		labelwidth		= dialogwidth - (2*margin);
		//labelwidth		= 193;
		//labelwidth		= 705 + 15;
		labelvertpos	= 15; //margin + (2*labelheight);
		btnvertpos		= dialogheight - btnheight - margin - (2*labelheight);	//margin + labelheight + (2*gap);
		//Btn2horizpos	= dialogwidth - margin - (3*btnwidth) - (2*gap);
		Btn2horizpos	= (dialogwidth - (3*btnwidth) - (2*gap)) / 2;
		//Btn1horizpos	= dialogwidth - margin - (2*btnwidth) - gap;
		Btn1horizpos	= Btn2horizpos + (btnwidth + gap);
		//Cancelhorizpos	= dialogwidth - margin - btnwidth;
		Cancelhorizpos	= Btn1horizpos + (btnwidth + gap);
		initBox();
	}
	
	protected void initBox() {
		xMCF = xContext.getServiceManager();
		createDialog(xMCF, xContext);

		initialize (
				new String[] { "Height", "Moveable", "Name", "PositionX", "PositionY", "Step", "TabIndex", "Title", "Width" },
				new Object[] { dialogheight, true, "loInputBox", dialogxpos, dialogypos, 0, (short)0, "loInputBox", dialogwidth }
		);
		
		// add dialog controls
		try {
			short align_left = 0;
			short align_center = 1;
			short align_right = 2;
			guiLabel = insertFixedText(align_center, margin, labelvertpos, labelwidth, labelheight, 0, "Input something!");
			//guiLabel = insertFixedText(align_center, margin, labelvertpos, 0, 17, 0, "Input something!");
/*
			XLayoutConstrains xLayoutConstrains = UnoRuntime.queryInterface(XLayoutConstrains.class, guiLabel);
			Size sizeLabel = xLayoutConstrains.getPreferredSize();
			System.out.println("Width = " + sizeLabel.Width + "   Height = " + sizeLabel.Height);
			Size minsizeLabel = xLayoutConstrains.getMinimumSize();
			//Size adjLabelSize = xLayoutConstrains.calcAdjustedSize(sizeLabel);
			System.out.println("minWidth = " + minsizeLabel.Width + "   minHeight = " + minsizeLabel.Height);
*/
			
			//XMultiPropertySet xPropSet = UnoRuntime.queryInterface(XMultiPropertySet.class, guiLabel);
			//xPropSet.setPropertyValues(new String[] {"Width"}, new Object[] {156});
			
			//guiImage = insertImage(15, 15, 35, 42, "file:///home/David/Pictures/Happy.jpg");
			
			/*
			String strHappy = "^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@ffUfffffffffffffffffffffffUffUffUffUffUfffffUffUffUfffffffffffffffffffffffUffUffUffUffUfffffUffUffUfffffffffffffffffffffffUffUffUffUffUfffffUffUffUfffffffffffffffffffffffUffUffUffUffUfffffUffUffUfffffffffffffffffffffffUffUffUffUffUfffffUffUffUfffffffffffffffffffffffUffUffUffUffUfffffUffUffUfffffffffffffffffffffffUffUffUffUffUfffffUffUffUfffffffffffffffffffffffUffUffUffUffUfffffUffUffUfffffffffffffffffffffffUffUffUffUffUfffffUffUffUfffffffffffffffffffffffUffUffUffUffUfffffUffUffUfffffffffffffffffffffffUffUffUffUffUfffffUffUffUfffffffffffffffffffffffUffUffUffUffUfffffUffUffUfffffffffffffffffffffffUffUffUffUffUfffffUffUffUfffffffffffffffffffffffUffUffUffUffUfffffUffUffUfffffffffffffffffffffffUffUffUffUffUfffffUffUffUfffffffffffffffffffffffUffUffUffUffUfffffUffU\n";
			try {
				guiImage = insertImage(15, 15, 35, 42, strHappy.getBytes("UTF-16"));
			} catch (Exception e) {
				
			}
			*/
			String rawhexRose = "89504E470D0A1A0A0000000D4948445200000100000001000802000000D3103F31000000097048597300002E2300002E230178A53F760000000774494D4507E202170E32258CBC81530000155E4944415478DAED9D777415D5DA87DF73122014E94A15297A41D004A47DF41A4A081DA4137A0B5E8A0A5254548AA052AE840E217404124A08814042E7D284A0B4AB1491AAF41072CEC9CCDEDFDFACFD9BB5CCBDB090F07BFE7CD8EC99D927EF9A99F7DDB3B74B6B2D062E978B3E937BA58077BB9F9F47E7E97EE6E7E916425E621800840140080380100600210C004208212F032F7C3EDBB6407ED7CFDFBDF3DBF9A66FFCD1C0B8765D4D1F12BD6AEFD8C9A6AF3B79ACB241FF6E3FF70B93D7776CFF7CF2EECFCD3B8C031F8108DF0108610010C2002084014008038010424826E785AF03ECFB76AEE9EB7C3438323BB8DADE69323700F8C11E89CC8ADAFBE44085AAA6AF75FAE88D4FA698BEC8D763FE9802CEE7B531831F1F3F6FFA1C95CB66F47AAD9B0F4DEF5F38B7BAFB18DCDFF3E7787AF97EA77E9E713DC1717C507B5786EB337C04227C0720840140080380100600210C00420821999C1726DF6F792DD3FB67F38F2A53CEF46117CE25E60057DBF0B1EC42BED163D9817C93C792980DF5E395BD5980AF9B2E7BB2819B6A3DAF3A9C2B97E9AB3F7A74A14E6BD397D9B7E95C6817D3978B5D7DD52FA7E98BDBA977B3E6377D7EDF5DAB5A2818B723B1F6C19F4CEF57F3DD976D7D243E0211BE0310C200208401400803801006002184904CCE0B93AF3D3A6F95E9AB0EEABA1ACDEFEFE2913DC8D7F3C85EF49D40DD34D98BDAD7F5C876E49B7AE46080CBF4353DFA5000281CD4F078F7FB83C2416D2BFD34FA552A88FC86FC1B2217902F237211F9D2228F059C670ED177F315337DFE7BD7D24F839EB25428FDE2D701F0F7037C04227C0720840140080380100600210C00420821999C17268FBBB07C35D3F73F73643D9AAFDFC12BFB7380047EEDC79E93D9C17FA898E63D97152C0C54CEE73B9315E4EFCBFBD2F767030585DADEB4A3FE60BE7E552BF58C005F5E524F08E8BF92A41F46F9FBEAA28FA15FB18AC829E40345FE83FC3F44CE205F5EE4D792154CFFE6E5D357467F69FA12533FBB9F70D8F47983AB5B8F7CA6F7CF95F579E5FBF93D00217C0720840140080380100600610070080821E425E56F97EFBFB00B64BACB34AA321DADB733D2ABB666F3377D0BAF752A20AFE9033DF78FA2FC7A55D10968748245D608E8BFB358BBDDA00E505FA5AD12504FE82ABE65E866DB53D47274DC1E22EB50FB8EA2E6213F48D412D44F1F912DE267FA966227A0FA43B0A46F44FDB411F931008CC37B1E2B097D17D1C0A377E52F60FA4677EFFCDCB187E9DF59B73CF518F8322267950A5C178810BE0310C20020840140080380100600218490FF89E796EFB7D36DD3FB65F15B50F63DD30F38FFE36C34EF7FA85762D0CA2E6D95DA85AEB691C81CE487888C06E96C99AA653DAA0374106B2DAA277412FD01EAE77B2D3D905FAEA5173A9FA52283919F2BF21DCAEB7F28F614D47E8CC837C87F2C128DCEBF9DE8437EB94D5FC37E7826FB2BA62F9F96F23BFABEE2F534EF35B4FE52B134B98DD6592AE8914B450B9BBED4F59BEAEA9FE0B9A5F8ABAC0310C2770042180084300008610010C200208410F297786E75803F932F9BFED5A092D3FDD0BC7F5B4D43FBF28E4A97F9E8AA068A1C4279F71A5A86BBC03FCCD47A0CCA8B4F111D817CB8E819C88F10DD1C9DCF369160D43E417475D4FEB04803D43E497413745D3BB47C826EE65F8B6A87AE375AEB7EE8DEBF48C95474DCD1A2A3D0798689ECCA02F63F6E94FEE84676B00E5291B4D46454CF09F24A32AA1B04A5C9E97AC1A6AFB02741A33A922B8B1FEB0084F01D80100600210C004218008430000821843CC1B3CFF71F396FFA57AB955D5AACA2E97B5D3B39C50DF2D063941E8BEE5593954C405735412409F5D340E99E2E505058A6D367A179FFC3C4DAE80209EA363AAD2F9A97BF58ECFA28EFBE5BEB7A28BFBE47740B7413DE2AAA11BAAE5D220D51FB44510D507D20494B7F74DC85A25BA0F1DCAAA427F2CB942C46E7D357C469BF822B2E309E25B475C21F8C5B25CB3E089653929A3ED99F0D9C7F6DAFB62EDD34BD7FA9C2AC0310C2770042180084300008610010C200208410F204195FCFC787D6F3C9EA7776E66AD3BF3DBCCBF7B98A9BFE834757C7A13CFD24A53F45F7A4AF94E3BA3DE1E8AA2244B6A07C7C4BAD87BAC0FA36B375CA58010BD64C16CF04E42788A7990BE4B3E3B55D1E1DF78CD64EFE3DE47FD43A08E5EF9345D74037ED43A22AA3F139AE250C8D4F94484B34CE5B940C46FDCCD5F225F29F695981FAEF2E12837C5B91443718B786CA4E407580609F1CF30707AE6269DFC51BA6CF5ABA08EB0084F01D80100600210C004218008430000821843C81CB4A4B37AD7FF62C57166D317D897E2DB7556C66FAE627E3BFF1CB61FA8FEDC723D03D6686920F90FF5EC904E427281987F2D093B474477E85960874B5E12281287F7F4ADBDFF8BF06CEDFFA230CCD6B8FD2565FB4CFEE6249AF8B8EBB57A40FCAEB2F111D86EA00515A07239FA0F51BA8FFDF4402D1389CD2D202F5B355EB6034CE094A86A37E666A894219F330ADBE40FD7CAE64223ACFF1226BD177149DC4DE88D67D6A932E078A16337DADEBD7B4ADC05FB39F9B750042F80E40080380100600210C004218008410429EC065A5A23A40CE2CDF07E431FD079E07B3FC401E77986D7F8CE6F77FA3746FD05C226DE983EE3D4B940C477EA69251281F3F4D5BED519E7B83D64EF9EC40D4FE94D6ADDC60FD9FCD2AADAD0B2C681FA3BD9BDC603FDDD6EA610374534D1255059DCF312DD5903FA2E56DE4CF6A2980FC1DED58DF1886D6359AA5D3EAA271DEAB1CEB2A3102FA692B694EF599D9E8AF6DA8C82A343E5D45AD4475806EE9722AACAFE903A316739F6042F80E40080380100600210C00421800841042FE122EAD507ED4ED9A9ABF88E947DFBD3111E5FBC72B3DC40D6E267394EA85EA004B6D71AA0FF445F7A4C54AC6B9413E7E92F20E41EDE7286985F2D39BB5D441EDF72979178DCE4F22610216AC89125F2B9441DEACD50A37D81FB7BB4AEDEA02FDACD2BE2074DC6491AAC81F15A98DBE2BD82F3A04D549E2B4B5C955D8F4ADF5CDEA687C0E6B0943E313A564A980EBEA25A9D3D1798E1459867C4F915568DCBA6A1589D605EAED933FB6EC30FD6B2D9BB00E4008DF0108610010C200208401400803801042C85FC2313FBAA4795BD3F7D916330EADD73EC9D283DD20913B57F9BAA27CFF2A5BBAA17BCF4A251D905FAF642C9AAF3F59A5AD44F9EC6E5A8251BD2241E95AA8FF034ADE42FDFCA2A526CABB1F141D8ABE2B88D57A28EA67B6961874B36D2B2A1AED4FDC4EAC49A86E304EFBFEE90FF637F89795B2D2F52A1A873F2B0BA89F1C176F43343E894AAF42DF0F74D56911A89F70F13AADBFB411F93622ABFCC071BBDA7A4576E0BBA7E9534DDA9B3E70C7063BCD677ABFEC5959072084EF0084300008610010C200208401400821E4091CF3A30FAF827D5873172FF2555B9097FD3466436F7FB09F6EA4E51988D6119A6FDB1DD1BD679D9236A86EB0D1961128FF3DC34A894579FA50D11FA23CFD775ABF8EF2F4BF6B71DAC7F71FA8FD7FB49447FE8C9650745DB14A06A1F6F3B40C41BFCA1C918EC8AF1379175DEF4FA28B217FCDF93B8115687E7F77499D8AD6411AADBDE3D1754D54320D9DE72891F5C87710D99E1574D4D4A7D60500DFD1A3E25E01D71592A22F0F1A63FA92F3A6387DDFC23A00217C0720840140080380100600610070080821E42525C3EBA8A4DC7E60FA570AE699D0AC85E927C46F1DE40FE6B5CFB37C230372997EBAE7512B3F90B7DE6C5BCD509E3E5EEB4928BF3E4ECB72E47B68A98FFC6E2DC551FF579DEB0641E8DE99ACA40AF2C7945442FD9CD0E2B45FAF533DA13E9AC7BF5B69A7758ADAA13A40B4B69CBEBB1884EA30F36CC7FD83BF44FE332D31C8B7D572201BD808A096377D0DAA0374F6A84DA80ED03A452715CA67FA06B7EE3DD8BAD7F4795AD4651D8010BE0310C20020840140080380300038048410F292E27A5AEBAC3BF9FDEBC10A31B53BB4E95608EC3FB0F2D68D30543788B27CEFFB8179EA3FD8DEB628931BA3D51494871EA32512F9DE5A5AA37BE126254E7580C268346F8A5444FD9C54D203E5D797DBE2B4BF416574DCE35A4AA3E35E14A98ADA1FD512828E1B674B1374DC1D4ADA23BF41C960D4CF5C5BE6A3F60395EC42E7D348CBC100F03BD6F4783782CF13A44DAAACCE033AEAF24047160427D4FBB6BDA25C39D3773F77EECEB9CBA62F50AE241F8108DF0108610010C2002084014008038010424826E799D7019CFC8D0B974D5FA44CC93E6F833CEE92B3E782B3809B5542BA6AE00F7C92A5BA640579E2D53EDB29EF3E0AE5B9A7D932004CA7970596E3BA4085D028DF122989DA5FD6D210F9442D63D1BCFFC94ACF44EBEB0FB7F50874FE336CA98EAEF7B092C6A89F9DB6FE14F9AF6CBD0C9D674F2D7BD179D6553A011D3758C97634EFBFA9476D029F8748EB47B23C3FE8BFC75D1D51087C57107E2B3DB2CC6BA6EF7DE18F14F4F7F64A19D60108DF0108610010C2002084014008038010424866E7B9D5019CFCA6F90B4CDF7AE080EAF9C1FE0087EFA654CB07FC917B29F5B38104FE6EAF551BDDF3F62B69867CBC92DE28BF1E694B1FE497D8E2B40F715994473FAF25A3FB0FD440FE90962F90FF5C4B02F2C15A7E46FE1D2DC928AF1FA4F43ED4BE8E731D602D48D34BA77449C88ECE274D0E1604FB4BD4BCED595908FC8EDD6E599F1707BFFB1757537E5CB9C6F4EF75EBAC950DFEDEDC7E7C04227C0720840140080380100600210C00420821999CBF5D1DE0CEB5EBA62F50AC6883E2C54C9F74F55A6036B08ED029AFAFA13FC84F275AFA3D94B7FE5169A7FD01DE41FE67AD9DF2F1F5D03D758F929AC81F545205F5734C4B35E48F68C7F9FD81A8FD29E77EC6A2BF86C922DFA3FD863F10BD108D437FADD7A37A4B07AFB5052CFF232DBDB20BA4EFA5518A1C2C80D60BBAE38D2902EA036D6F78B674E90CFA5FBDC629DFCFFD0108E13B00210C00421800843000080380434008212F297FBB3A80933FB825D6F4355B86D62A98DFF4076EDF6D9005E4AD93D2757D348F7FB72D6FA03CF76F5A1743FE9AD64EED4B217F49EB32C85FD0FA0D94A7FF4D4B29E42F397F27D03A7F0ED36FBAFB3814AD6B146B4927340E6B6D1986DACFB2643A28B7C8489F4422DFDB276B41FA5E3A79644D6EE03B3F94A5F9C1817BDDB51615CD63FA7ED71FFC1E0FF6037EBD59DD8CFE5DF11188F01D80100600210C0042180084300008218464725E983A80939F3AADAFE9478F5ADCED1DB0CFC0CA9FCF354379EE784B2AA3EF048E2B5D04E5EF6F685D14F9EB5A3BED0F90D1FD7D43D13CFB58AFD5AB7801D32FBD7A2722E4FF4C1F1EF7EF4F9BBC65FAAF76FC32301F38EEFC7B3209CDE31FE7956F51BEFF239FA39F9A03141A463FB6A7E5010718F5C0BB20F06DD30F387576DFD4A9A6AF337A74EA9F774C9FF3D502AC0310C2770042180084300008610010C200208410F2042F7C1DE0FCAFA74C5FF6CDC0F6ED4B987EC3862B4DD077023BD27553343F7EBB2D95D0BEB9276C1D5414DC3C93AFAB3A3941FE7E5FAAD53417C87F6F7FE46D5D28AFE937DDBADFA114A828ACBF74AB5F75B03ED2A2C3D73EEC1968FAEF969D0AAA0FCE3F79B7AE1502AEF7409CBC0FD2F1F2C359092F0326F8475CF02C43EBF3F45CBD66F73490BFAF3F6AF495FD074C5FA2762D6583F57CDC7E7ECE7F0F0A7937EB0084F01D80100600210C004218008430000821843CC17F918F7F3AF9D78CFA6B377F377DB1C2AF877F0EE6C1477CF1EFC6EDC0D5EE8C967641054D1F9D7CBB7D7690BFDF9066B541F3DD37FAA4C9BBC0EFF849DA0C46EDE74AED1AA0D0B0FF905DE31D7080433FFBAA560437E7A32755875EA0FDFAA5BEB67DC106BC318BD32A3501E7736287D46E0FFCFE0DD2B23F38EE9685EA5F732A99FE9F434EA43D7860FAEC79F23CAFBF13D60108E13B00210C0042180084300008610010420879821766DEFFA5ABBF98BE54F1B7FA0DAF66FA45338FCCFCA6BFE9877FBCD0E77964FAAC01B93A77286FFA35EBCF74AC0D6E92EBF6AB105467888B96164381DF3A5B5A858379F99B2374A721A0FEB0768E5517F5BF375A5AF540FD2CD79D0781FAC09A79BEB6BDC1C6BC319129BD4780BA44E40CFBF319A09F2F46F87EBBB2DDF46F9468EAF83B2A540770BB33DEFED9D613F80844F80E40080380100600210C0042180084104232397FBB7CFFF53FAE99BEE86BC566CE4379FD410BEFDFBB6EFABCF98A3AF57FFBFE4DD317CC5BB86A3590173F7AC46E3710F8E8F976F341201FBF6D9E6ED4038CF2AEE5123200F8B805D27324A8032C9B6EB51B0AFA8F9EAD1B7404FD24AD93A07A68FD9F3D3AA82E689FBC579AF502C78D5F6A7D32ABBAE9BF1E7638E3F97887F64EF97E6523EFC7EF0108E13B00210C00421800843000086100104208F99F786AF95485F2BB6EB7FBC1A387A6CF932BF7F9B3C9A62FFB76D0D52BBF9ABE788937333CBFDCC16F4FFCC1F44D1BBEDFA04616D3271D4A6F3610E4D7E3E7EB2603C168EE982F4D7A21BF544207807A42EC02BB7E17D07EF76AE9180EDAAF8BB02B3504ED4F244AF91AC09F3924551B83F33FBA5387A0EF13E222F4F1D31B4C5FB9427BE7BCBE43FEDEE9F7B22DE0FDFC59072084EF0084300008610010C200208401400821E499F0D4F2A9E95EAFE9B364CBF6F0DE2DD3E7CE57E859E7779DEA1283C39B9B7E6EC4B656C1394CBF39E171289A971F3B5B37437580F8F9123200E5D717387E2750AF13F07BD64AEBDEC06F8A94CA8D813FBE532AD603FEE41E69D8059C4FE26A3D7E3AF85060E2C8BD4A5968DC9CF3F419F58E7500E4FF8BE366F0BB053E0211BE0310C200208401400803801006002184904C8EEBEEC354D3E6CF9D736312580FBE4D83A66BE35699BE5348D72B37AF98BE44E11217AF83757B4A172D7AF1FA55E48B7BBC1ED307640B785AF581D0E6654C1FBBED427887A2A68F587FBDC7B0BCA65F3EEB7ED37E6034B72F9210B07C91C42D9490BEC82F9660541F48582E21E83B81B8D55211ADF37372AFD40901EBFCEC8BB39CD62F3A920CBE8BA816F4BE731EFD69F9A7B52F35AA03B8325C97E02310E13B00210C00421800843000086100104208C9E4B8FA8F0713DB174E9C1FDAAB8EE96397EE0B09AB6AFAB8A8A3E1E3DB9B3E62E286E8C4ADA66FD7B0C5CEA3C74DDFB86AE59D470E025FADE69DFB774C5F206F01E77D6771DEB753BB5AA65F1B7DA04573B03FEED66D3EA7757E5AA0EF01B6CE97869D814F5C234D513FDB974A9FB1E026BC64B2729ADF5FAD29F047B64B63D4FFCEA5D2F7D312A65FFCD515CB02F5167FFF80A7B6DEFF33AF273C9DFD0AF80844F80E40080380100600210C004218008410423239AE9AA1054D7B30F6764897B74C1FB7FA973661654DBF31EA7C9B3E15805F72BAC7876041FBE5DF252EDCB2C6F4FD5B765EB3739BE93B376EBE221EAC5BDFBD59FB4BD72E9ABE54B1D24EEBCC74ED0C12ECABD6ECF9F0A38AA6FFEEDB93CDD0BCFFF845D21CEDFBBB6D8184F445EB022DD68DC340FB9D51D209ED03B036C2AE1C0CDA1F4F9060B45E5042A4B41B1660FAE8599E0D5BBF347DFB169F653CDFFF94D6057AD63E8375033E0211BE0310C200208401400803801006002184904CCEFF037F4D9237F1CEA98B0000000049454E44AE426082";
			byte[] rawimageRose = DatatypeConverter.parseHexBinary(rawhexRose);
			
			String rawhexHappy = "FFD8FFE000104A46494600010101009600960000FFE100164578696600004D4D002A00000008000000000000FFDB0043000503040404030504040405050506070C08070707070F0B0B090C110F1212110F111113161C1713141A1511111821181A1D1D1F1F1F13172224221E241C1E1F1EFFDB0043010505050706070E08080E1E1411141E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1E1EFFC000110800A600A603012200021101031101FFC4001B00000203010101000000000000000000000001020304060507FFC400371000010303020501060503040300000000010002110321310441051251618171061314222332334262919272A1F1153543D15282B1FFC4001801010101010100000000000000000000000100020304FFC4001E11010100030003010101000000000000000001021112032131411351FFDA000C03010002110311003F00E519A2A0FA6D269D3E6C7DA148E828483EEE9C8FD2168A207236CAE20748EABCF32BA72AC634544C9F74CEF0D08F82A1CDCA69B2FD5AB58EC938F4F2AEA8D337C15003F0DB033F2D921A2D30FF00869FF15B09772C4C2568C7323AA597E0E863DCB7C351F054394FD1679685AEF1D92700307C23AA9986928C0268D3C47DA12F81A19149BFC56B226D1097F4F94754B29D1D181F4A9D8ECD097C1519934E991FD216C8B4FED74CB0B473106F8BA3AA98CE8A8FE5A6D9ECD47C1D28BD2618FD2B64BB962C122D3CB215D55A633A2A11CDEEA9FF0014BE0A849FA54FF8AD7126214AC044ABBAB4C634340CFD2A7FC53768A896B79A953E9F685ADB1194DC445C5FAABBA2B1BB434220D3A66FFF008A3E074E240A54E7FA56CBF2FDB643626C22C8EA979E74545BFF001D333FA50B6D49B5C8F442DCCAA46903C83FFAAC01B1932AAA248A4D031EAAD188502BF40026308300A05C4145489049909C48D93053946C8331BF940067281D85D4AD3392A28869D8C9F44E23FCA65C26C7C209FD3B2120E17CA6C0E8201B1CA6D8DDA91B5C880A45FD93227060242D73841B229D020EC6C963224A24E020083276BD940DA0DCE3D7094C912A458E6E43845EE9730718117523B9680544CA66458611DD112063CEE84AA38A16F611A3F2B1A4CF957403855508F72DDFCABBB4AD02B7359322FE1005B309419CCF5421619DCA0C4C4610EB446163E2DAEA5A0D31AAEBBCD98DEA553EB526DB5DB5C9411262DE1709ABE23ACAEF73DF59ED31F95E400BD1E0DC66B507B68EA5CEA948EE72DBE56EF8EE9BBE2BADBAABE0264826D943639410E10538005C92B939ED131280653B0B8478512308941701362044D9729C6B8CD6AD51D4F4AF34E90905C32E4E385CBE358E3D57545D18CA048BE7B2E1A8712D750AA5E35159C46CE7123FBAEB3846BD9AFD30AAD96B9B67B62E0A72C2E273C2E2DC5C621160044FAA20983B22C0485860B984DFF74DEED80002892401EA9E4DCA12B77281704A137004DEC85BD24284F237D15E30A8A07E935BB6CAE12B55939DA12883994C75B79411D878420B96F6D0BBE234CE161CAE130BA88F948E63758B8BE8296BB4E685537176B87E529C2EAB787AAE1FEE9398EC86E79E660616CD4F08D7D27961D2BEA09FB9ADC85BB84703A956B0ABAC61653170DDCFAAED729ADBD1D49EDD1F0CE6FF004ED3F367DD367F65A9B06C126B61A045826D0649266CBCCF31927C2091B2716480B582932714FF006FD41F9BF0DD8F45C112E9EA6F017D12AB64111EA3AAE578CF05AD4EA3AB69181F4CCCB4642EB8591D7C575E9E23DD064B64AF7FD8E93A8AE6E0725FF75E650E15AEAD57DDB68541272F103F75D670AD052D0D0F76C92E75DEEEA539E535A6BC994D69BC124E0425226C13B038828C8B9F0BCEE0858A936D302422074B2570491B852DA150C8030849F10244942D0D8A022936F2AD9EB85551FC21CD8D95AD1362B741A0CF8394AC33E89C1363B21A16880870B5D116EE9E72848B9A0C4261B1164FB0C23D5287DDBA95C1C428ED84A7A1928A9611BA44C84A4111BA57832845CA428B9B2DBA99039422FCB044292B2D9002981021271940C5F2A466518B947A202CA2DEC811B14CF49CA5CA05A21495BFF642645F3285BD82A43958D2D9BF5575B7C955528E50D569B586D95AA844644A64002C65269933B21C8264DE1007CD19EC95809523007322A224610605C650DBDD06148CC016DD4418B4A77DD275EC62108CFA42336DD17CDE3BA0D85940632912E391299383BA0CB6664CEC8D94498B91080245AC3AA6D0244FF65139118521694C8E88709CA524E30840C8CA05CE7099364A09BA9227331084389191742DED946908A633E42B81000B2A28DA9B30AE1BE5691C48B1F2A2E260E440DB2613920EEA523263B429B8F3B41C5A86B3546853A751A4027E6C597A53790B90E2AC7F0DE34354DB34BBDE34F59C85D5692BB353A7656A7F6B8484E534D658C9EE2EB6F949C0A63F565226EB0C023E5516CCA9927AC24249CCAB4889180A1BA9988840037048EC808DE13F5419E87CA0C458229222C8161807CA644B7105793ED1EBBE0B465ADFC5AA3959191D538CDDD193774BB45C574BABD59D2D16D4F797FB9B6B2DE089EA173DEC7E98FBAA9AC77E6F9583AC2E8401BE159492EA1CA497D11B88CDF09F9DB09B85A76D9206F0B2CA2E8B122E84AA477942DE9957449345B2AE1DB2A9A16A4D2249EEADC5D6A9486459480F98DD45A6765288DE7AA1A66E25A2A5ADD39A555B2320C5C2E6A8D4D6F04D5F21738D2992D27E578EDDD75E7B6151A9A14B50C34EAB5AE61D8AD6396BD3532D28E1BC5747AC86537F23F7A6E30479DD7A040DA5731ADF678B5DCFA4A8233CAFDB7B15986A38CE808159D5435A798F37CCD329E65F86E32FCAEBE3B27788B5D7374FDA4ACD67D5D332A386ED77285A59ED2690F297D0AE1C45C4028BE3C87F3C9EC911683E5462D332BC86FB49A280D34B500F4E51FF006AAAFED2D303E8699EE3BF31E5108E321C64F7A65AAB2E0D04B8803A9C05CB6A7DA3D655E66D0A54E882205B99C0CF5557B8E33C49D155D50B4FCBF50F280AE35F6B53C7FEBD7E25C7F4D418E669CFBEAA2C08FB415E4F0CE1DA9E23AB3A8D69A869CC927F34F41D17A1C3FD9FA148B6A6A5DEF2A0BF2810D95EEB1A030000363A2AE531F515CA63EB11469B69B1ACA6035AD101A060295BA5D34408939D97373A89EF7081DFC2733EA80611B4889BC89421CD83285A655D3334C5A158072AA691FA62442BA4F85BA7F52806E98B5D4702D13DD4D926488803E684346D208B948E7289DC8FF28DF175232D1D2541CC076B7A2B013113291174A65A9A1D2D574BE85271C5C2C8FE07C3B98BBDD3A499FBCAF599FE52207FD2BA32D8F23FD0741209A6E3FF00B953A7C1B414EA388A01D6C3C92BD468E8A24098DD172A7AACD4B4B42934369D10D1D02B9AC17070A79B147280712B36B289379083809B80E89888BE10A96093D900764C7A4A07A108044585E6E9C92838D938245A1095D40442149E00C4CEF285B65552134C4CCAB7100817E8A9A1660B5BA42BAD696C0F45B3FA220983294C9EDB293AE601B6D74BADE115A304C5D39BA8CC366C4752A4DC59C3C21A912021231288392513262252129916C28DA6CA5048E812885680290175231374A2E63A2CA45C2F2919225336090233128D1317B2401337F0946E23CA604DEDE14080BE20A6EB22DE531E9085600093641BDCEC8298C655A085426C50A4409C4216F4CA8A57A60CAB66D70842DFE1A60D898D92106099BA10B3499036C262D006108514FB040688833284291916BC2394210A036B289B142115227BEE8C823A210B3494900260482677421481109F29EA842824208C24E1742113E230DF96F112842174663FFFD9";
			byte[] rawimageHappy = DatatypeConverter.parseHexBinary(rawhexHappy);
			
			String rawhexChild = "89504E470D0A1A0A0000000D49484452000000300000003008060000005702F98700000006624B474400FF00FF00FFA0BDA793000000097048597300000B1300000B1301009A9C180000000774494D4507E2030E141C20F6116BF30000001D69545874436F6D6D656E7400000000004372656174656420776974682047494D50642E650700002000494441546805013024CFDB0100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B90B17160105016800000000FFFBFF9847F5E9EA00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B90B1716000601710002016E00010139000300045D030BD3A4FBF5F50000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B90B171600060171000101690101010F010101080000002D000300045D030BD3A4FBF5F5000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B90B171600060171000101690101010F0000000000000000010101080000002D000300045D030BD3A4FBF5F500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B90B171600060171000101690101010F00000000000000000000000000000000010101080000002D000300045D030BD3A4FBF5F50000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B90B171600060171000101690101010F000000000000000000000000000000000000000000000000010101080000002D000300045D030BD3A4FBF5F5000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B90B171600060171000101690101010F0000000000000000000000000000000000000000000000000000000000000000010101080000002D000300045D030BD3A4FBF5F500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B90B171600060171000101690101010F00000000000000000000000000000000000000000000000000000000000000000000000000000000010101080000002D000300045D030BD3A4FBF5F50000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B90B171600060171000101690101010F000000000000000000000000000000000000000000FEFFCA00FF00E50001011B00000000000000000000000000000000010101080000002D000300045D030BD3A4FBF5F5000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B90B17160006017101020278010101080000000000000000000000000000000000000000FFFEFEBBFF00FD79FF00FEB900FF011E0101012300000000000000000000000000000000010101080000002D000300045D030BD3A4FBF5F500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B90B17160006017100010169010101080000000000000000000000000000000000000000FFFEFEBBFF00FD8048EFEBC6A4F8F6E35C0909DD00FF011E0101012300000000000000000000000000000000010101080000002D000300045D030BD3A4FBF5F50000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B90B171600060171000101690101010F0000000000000000000000000000000000000000FFFEFEBBFF00FD8048EFEBC60000000000000000A4F8F6E35C0909DD00FF011E0101012300000000000000000000000000000000010101080000002D000300045D030BD3A4FBF5F5000000000000000000000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000000000000000000000B90B171600060171000101690101010F0000000000000000000000000000000000000000FFFEFEBBFF00FD8048EFEBC600000000000000000000000000000000A4F8F6E35C0909DD00FF011E0101012300000000000000000000000000000000010101080000002D000300045D030BD3A4FBF5F500000000000000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000000000000000B90B171600060171000101690101010F0000000000000000000000000000000000000000FFFEFEBBFF00FD8048EFEBC6000000000000000000000000000000000000000000000000A4F8F6E35C0909DD00FF011E0101012300000000000000000000000000000000010101080000002D000300045D030BD3A4FBF5F50000000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000000B90B171600060171000101690101010F0000000000000000000000000000000000000000FFFEFEBBFF00FD8048EFEBC60000000000000000000000000000000000000000000000000000000000000000A4F8F6E35C0909DD00FF011E0101012300000000000000000000000000000000010101080000002D000300045D030BD3A4FBF5F50000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000002080372010202780101010F0000000000000000000000000000000000000000010000DC0803035748EFEBC60000000000000000000000000000000000000000000000000000000000000000000000000000000048EFEBC6FF00FD80FFFEFEBB00000000000000000000000000000000000000000101010F0001016900060171B90B17160000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000B90B171600060171000101690101010F0000000000000000000000000000000000000000FFFEFEBBFF00FD8048EFEBC600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B811153A01000380010202450000000000000000000000000000000000000000FFFFFFF100FFFF9700FAFF8F47F5E9EA0000000000000000000000000000000000000000030000000000000000000000000000000000000000B90B171600060171000101690101010F0000000000000000000000000000000000000000FFFEFEBBFF00FD8048EFEBC60000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000A4F8F6E35C0909DD00FF011E0101012300000000000000000000000000000000010101080000002D000300045D030BD3A4FBF5F5000000000000000000000000000000000300000000000000000000000000000000B90B171600060171000101690101010F0000000000000000000000000000000000000000FFFEFEBBFF00FD8048EFEBC600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000A4F8F6E35C0909DD00FF011E0101012300000000000000000000000000000000010101080000002D000300045D030BD3A4FBF5F5000000000000000000000000020000000000000000000000000000000002080372010202780101010F0000000000000000000000000000000000000000FFFEFEBBFF00FD8048EFEBC600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000048EFEBC6FF00FD80FFFEFEBB00000000000000000000000000000000000000000101010F0001016900060171B90B1716000000000000000000000000010000000000000000B90B171600060171000101690101010F0000000000000000000000000000000000000000FFFEFEBBFF00FD8048EFEBC6000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B811153A01000380010202450000000000000000000000000000000000000000FFFFFFF100FFFF9700FAFF8F47F5E9EA000000000300000000B90B171600060171000101690101010F0000000000000000000000000000000000000000FFFEFEBBFF00FD8048EFEBC600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000A4F8F6E35C0909DD00FF011E0101012300000000000000000000000000000000010101080000002D000300045D030BD3A4FBF5F503B90B171600060171000101690101010F0000000000000000000000000000000000000000FFFEFEBBFF00FD8048EFEBC6000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000A4F8F6E35C0909DD00FF011E0101012300000000000000000000000000000000010101080000002D000300045D030BD301BB131A91FF00006E000000000000000000000000000000000000000000000000000000DE1602032930EBE3FA000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B811153A0200048F000201360000000000000000000000000000000000000000FFFFFFF101FEFF8E02FFFDFEEDFFFFFFF100000000000000000000000000000000000000000000000000FEFFECE8FCF834000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002FFFBFF9800FFFF97FFFFFFF100000000000000000000000000000000000000000002013601000380BA131A120000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B811153A01000380000201360000000000000000000000000000000000000000FFFFFFF100FFFF97FFFBFF980247F5E9EA00FAFF8F00FFFF97FFFFFFF1000000000000000000000000000000000000000001020245FFFEFEA8B811153A000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B811153A01000380010202450000000000000000000000000000000000000000FFFFFFF100FFFF9700FAFF8F47F5E9EA0300000000A4FBF5F55D030BD3000300040000002D01010108000000000000000000000000000000000101012300FF011E5C0909DDA4F8F6E3000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B811153A01000380010202450000000000000000000000000000000000000000FFFFFFF100FFFF9700FAFF8F47F5E9EA0000000001000000000000000000000000B90B171600060171000101690101010F0000000000000000000000000000000000000000000000DD0000003646EDE6EE00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000C1141B11FAFFFFCAFF0000240000000000000000000000000000000000000000FFFFFFF100FFFF9700FAFF8F47F5E9EA00000000000000000200000000000000000000000047F5E9EA00FAFF8F00FFFF97FFFFFFF1000000000000000000000000000000000000000000000023FFFEFEA8B811153A000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B811153AF8FDFDA9FF0000240000000000000000000000000000000000000000FFFFFFF100FFFF9700FAFF8F47F5E9EA0000000000000000000000000300000000000000000000000000000000A4FBF5F55D030BD3000300040000002D01010108000000000000000000000000000000000101012300FF011E5C0909DDA4F8F6E3000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B811153A01000380010202450000000000000000000000000000000000000000FFFFFFF100FFFF9700FAFF8F47F5E9EA00000000000000000000000000000000030000000000000000000000000000000000000000A4FBF5F55D030BD3000300040000002D01010108000000000000000000000000000000000101012300FF011E5C0909DDA4F8F6E300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B811153A01000380010202450000000000000000000000000000000000000000FFFFFFF100FFFF9700FAFF8F47F5E9EA000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000A4FBF5F55D030BD3000300040000002D01010108000000000000000000000000000000000101012300FF011E5C0909DDA4F8F6E30000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B811153A01000380010202450000000000000000000000000000000000000000FFFFFFF100FFFF9700FAFF8F47F5E9EA00000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000BA131A8900000076000000000000000000000000000000000000000000000000000000DD0000003646EDE6EE000000000000000000000000000000000000000000000000000000000000000000000000C1141B11FAFFFFCAFF0000240000000000000000000000000000000000000000000000000100008945EDE678000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000FFF8FD8DFFFEFE88FFFFFFF1000000000000000000000000000000000000000000000023FFFEFEA8B811153A0000000000000000000000000000000000000000000000000000000000000000B811153AF8FDFDA9FF0000240000000000000000000000000000000000000000FFFFFFF1FFFEFE88FEF8FD8E0000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000B90B171600060171000101690101010F0000000000000000000000000000000000000000FFFEFEBBFF00FD8048EFEBC60000000000000000000000000000000000000000C1141B11FAFFFFCAFF0000240000000000000000000000000000000000000000000000000100008945EDE67800000000000000000000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000047F5E9EA00FAFF8F00FFFF97FFFFFFF100000000000000000000000000000000000000000102024501000380B811153A00000000000000000000000000000000B811153AF8FDFDA9FF0000240000000000000000000000000000000000000000FFFFFFF1FFFEFE88FEF8FD8E0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000A4FBF5F55D030BD3000300040000002D01010108000000000000000000000000000000000101012300FF011E5C0909DDA4F8F6E300000000B811153A01000380010202450000000000000000000000000000000000000000FFFFFFF100FFFF9700FAFF8F47F5E9EA00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B90B171600060171000101690101010F0000000000000000000000000000000000000000FFFEFEBBFF00FD800000000001000380010202450000000000000000000000000000000000000000FFFFFFF100FFFF9700FAFF8F47F5E9EA000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B90B171600060171000101690101010F000000000000000000000000000000000000000000FEFFCA00000000000201360000000000000000000000000000000000000000FFFFFFF100FFFF9700FAFF8F47F5E9EA0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B90B171600060171000101690101010F0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000FFFFFFF100FFFF9700FAFF8F47F5E9EA000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000A4FBF5F55D030BD3000300040000002D01010108000000000000000000000000000000000000000000000000000000000000000000000000FFFFFFF100FFFF9700FAFF8F47F5E9EA0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000A4FBF5F55D030BD3000300040000DD9FD2900000043B49444154002D0101010800000000000000000000000000000000000000000000000000000000FFFFFFF100FFFF9700FAFF8F47F5E9EA00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000A4FBF5F55D030BD3000300040000002D010101080000000000000000000000000000000000000000FFFFFFF100FFFF9700FAFF8F47F5E9EA000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000A4FBF5F55D030BD3000300040000002D01010108000000000000000000000000FFFFFFF100FFFF9700FAFF8F47F5E9EA0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000A4FBF5F55D030BD3000300040000002D0101010800000000FFFFFFF100FFFF9700FAFF8F47F5E9EA00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000A4FBF5F55D030BD3000300040000002D000000F900FFFF9700FAFF8F47F5E9EA00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000B90B17160105016800000000FFFBFF9847F5E9EA0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000EE37E3FEAF892740000000049454E44AE426082";
			byte[] hexbinaryChild = DatatypeConverter.parseHexBinary(rawhexChild);
			
			//byte[] rawimageHappy = { 0, 127, 0, 127, 0, 127, 0, 127, 0, 127, 0, 127, 0, 127, 0, 127, 0, 127, 0, 127, 0, 127, 0, 127, 0, 127, 0, 127, 0, 127, 0, 127, 0, 127, 0, 127, 0, 127, 0, 127, 0, 127, 0, 127, 0, 127, 0, 127, 0, 127, 0, 127, 0, 127, 0, 127, 0, 127, 0, 127, 0, 127, 0, 127 };
			//guiImage = insertImage(15, 15, 35, 42, rawimageHappy);
			//guiImage = insertImage(15, 15, 35, 42, rawimageRose);
			
			guiImage = insertImage(margin, 15, 32, 44, hexbinaryChild);
			//guiImage = insertImage(15, 15, 32, 32, hexbinaryChild);
			
			
			//// In the following, return values from com.sun.star.awt.MessageBoxResults are used for choice buttons
			//// to make loChoiceBox a drop-in replacement for a XMessageBox-based Yes/No/Cancel messagebox.
			
			// Button 2
			guiChoiceBtn2 = insertButton(Btn2horizpos, btnvertpos, btnwidth, btnheight, "Choice 2", (short) PushButtonType.STANDARD_value, false );
			guiChoiceBtn2.setActionCommand("2");	// String is converted to (short)2 on click, equal to com.sun.star.awt.MessageBoxResults.YES
			ActionListenerImpl xBtn2Listener = new ActionListenerImpl();
			guiChoiceBtn2.addActionListener(xBtn2Listener);
			
			// Button 1
			guiChoiceBtn1 = insertButton(Btn1horizpos, btnvertpos, btnwidth, btnheight, "Choice 1", (short) PushButtonType.STANDARD_value, false );
			guiChoiceBtn1.setActionCommand("3");	// String is converted to (short)3 on click, equal to com.sun.star.awt.MessageBoxResults.NO
			ActionListenerImpl xBtn1Listener = new ActionListenerImpl();
			guiChoiceBtn1.addActionListener(xBtn1Listener);
						
			// Button 0
			guiCancelBtn = insertButton(Cancelhorizpos, btnvertpos, btnwidth, btnheight, "Cancel", (short) PushButtonType.CANCEL_value, true);
			
		} catch (com.sun.star.uno.Exception e) {
			e.printStackTrace(System.err);
		}
		
		m_xWindowPeer = getWindowPeer();
		xDialog = UnoRuntime.queryInterface(XDialog.class, m_xDialogControl);
	}
	
	public short show(XModel xDoc, String title, String labeltext, String btnlabel2, String btnlabel1) {
		//labeltext = "MmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmM";
		//labeltext = "MiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiM";
		//labeltext = "Mfgakgfgsdfgaiegfibvrlivtfyotu4y28o4y872075hth78M";
		guiLabel.setText(labeltext);
		//guiLabel.setText("mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm");
		guiChoiceBtn2.setLabel(btnlabel2);
		guiChoiceBtn1.setLabel(btnlabel1);

		// Get Label XPropertySet interface
		XControl xControl = UnoRuntime.queryInterface(XControl.class, guiLabel);
		XControlModel xControlModel = xControl.getModel();
		XPropertySet xLabelProps = UnoRuntime.queryInterface(XPropertySet.class, xControlModel);
		
		// Get FontDescriptor
		XStyleSettingsSupplier xStyleSettingsSupplier = UnoRuntime.queryInterface(XStyleSettingsSupplier.class, xDoc.getCurrentController().getFrame().getContainerWindow());
		XStyleSettings xStyleSettings = xStyleSettingsSupplier.getStyleSettings();
		FontDescriptor xAppFontDescriptor = xStyleSettings.getApplicationFont();
		
		xAppFontDescriptor.Weight = FontWeight.BOLD;
		
		
		//labelwidth = loTextInfo.getExtent(xDoc, labeltext, "Liberarion Sans", 12, FontWeight.NORMAL);
		//labelwidth = loTextInfo.getExtent(xDoc, labeltext, xAppFontDescriptor.Name, xAppFontDescriptor.Height, xAppFontDescriptor.Weight);
		labelwidth = loTextInfo.getExtent(xDoc, labeltext, xAppFontDescriptor);
		
		
		
		//FontDescriptor fontDescriptor = loTextInfo.getFontDescriptor();
		
		try {
			
			// Config Label's font
			FontDescriptor fontDescriptor = xAppFontDescriptor;
			
			
			/*
			FontDescriptor fontDescriptor = (FontDescriptor) xLabelProps.getPropertyValue("FontDescriptor");
				fontDescriptor.Height = 12;
				fontDescriptor.Width = 12;
				fontDescriptor.Name = "Liberarion Sans";
				fontDescriptor.Weight = com.sun.star.awt.FontWeight.NORMAL;
			*/
			
			xLabelProps.setPropertyValue("FontDescriptor", fontDescriptor);
			xLabelProps.setPropertyValue("Width", labelwidth);
			xLabelProps.setPropertyValue("Height", (int) xLabelProps.getPropertyValue("Height") * 2);
			xLabelProps.setPropertyValue("PositionX", dialogwidth-margin-labelwidth);
		} catch (Exception e) {
			System.out.println("Oh no! Some property is wrong!");
			e.printStackTrace(System.err);
		}
		
		btnclicked = 0;
			super.show(xDoc, title);	// If one of the choice buttons is clicked, the associated ActionListenerImpl changes btnclicked accordingly.
		return btnclicked;
	}
	
	public class ActionListenerImpl extends com.sun.star.lib.uno.helper.WeakBase implements XActionListener
	{
		public ActionListenerImpl() {}
	 
		// XEventListener
		public void disposing (com.sun.star.lang.EventObject source) {}
		 
		// XActionListener
		public void actionPerformed (com.sun.star.awt.ActionEvent rEvent ) {
			btnclicked = Short.valueOf(rEvent.ActionCommand);
			//System.out.println(btnclicked);
			xDialog.endExecute();
		}
	};
	
	public void close() {
		// Dispose the component and free the memory...
        if (m_xComponent != null){
            m_xComponent.dispose();
        }
	}
}
